---
title: Global concepts
description: Learn more about global concepts related to Campaign Standard APIs.
page-status-flag: never-activated
uuid: c7b9c171-0409-4707-9d45-3fa72aee8008
contentOwner: sauviat
products: SG_CAMPAIGN/STANDARD
audience: developing
content-type: reference
topic-tags: campaign-standard-apis
discoiquuid: 304e7779-42d2-430a-9704-8c599a4eb1da

internal: n
snippet: y
---

# Global concepts {#global-concepts}

## Technical requirements

* Adobe Campaign APIs must be used Server to Server only.

* Please always check with your Adobe technical contact if the use case you want to implement is aligned with the scale allowed by Adobe Campaign APIs.

* Setting up an AdobeIO access requires specific permissions, contact the Adobe Support for any trouble.

## Primary keys & URLs

* The automatic primary key (PKey) values generated by Adobe Campaign must never be stored into an external database or website. You have to configure your tables with **custom keys**.

* The automatic primary key (PKey) values that illustrate the examples are not intended to work in another specific deployment. They are produced by the Adobe Campaign API.

* **Do not try to build an URL by yourself**. All the URLs are returned by the API. However, it is possible to build an URL based on the top-level resource name.

## Resources representation

All API resources are available in **JSON** with an URL extension or inside an HTTP Accept Header.

`GET /profileAndServices/<resourceName>.json`

>[!NOTE]
>
>Without extension in the URL, the **json format is the default one** for the content-type.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile.json \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

## Endpoints

Here are the available endpoints for Adobe Campaign REST API:

* **/profileAndServices**: interact with out of the box fields. Extended fields are not accessible with this endpoint.

* **/profileAndServicesExt**: interact with custom fields added during Profile or Services custom resource extension. For more on custom resources, refer to [this section](#custom-resources).

* **/&lt;transactionalAPI&gt;**: interact with the transactional messages API (the name of the transactional messages API endpoint depends on your instance configuration). For more on this, refer to [this section](#managing-transactional-messages).

* **/workflow/execution**: interact with workflows. For more on this, refer to [this section](#managing-workflows).

* **/privacy/privacyTool**: interact with the privacy API to allow the automatic process of privacy requests. For more on this, refer to [this section](#privacy-management).

* **/history**: retrieve the profiles' marketing history. For more on integrated customer profiles in Campaign, refer to the [Campaign documentation](https://helpx.adobe.com/campaign/standard/audiences/using/integrated-customer-profile.html).

By default, the main resources are available for the **profileAndServices** and **profileAndServicesExt** APIs:

* **/profile**: interact with profiles from Campaign database. To add profiles to a service, use the **/service** endpoint. For more on profiles in Campaign, refer to the [Campaign documentation](https://helpx.adobe.com/campaign/standard/audiences/using/about-profiles.html).

* **/service**: manage subscription services. For more on services in Campaign, refer to the [Campaign documentation](https://helpx.adobe.com/campaign/standard/audiences/using/creating-a-service.html).

>[!NOTE]
>
>All other resources that have been extended or created are available via the <b>profileAndServicesExt</b> API only. They must be linekd to the <b>Profile</b> resource in order to be accessible.

## Primary Key

>[!CAUTION]
>
>Automatic <b>Primary Key</b> values generated by Adobe Campaign must never be stored into an external database or website. You must generate specific key fields in your database definition and use it during your developments.

If the profile resource has been extended with a custom key field, you can use this field as a key instead of the automatic Primary Key generated by Adobe Campaign.

`GET /.../profileAndServicesExt/profile/<customKey>`

* Custom keys cannot be modified using a PATCH operation if the key value is different from the origin key, or if you are using your own business key as URI instead of the one provided by Adobe..

* Use a custom key for **top-level profile resources** only. URLs are returned by the API and should never be built by yourself.

>Retrieve the subscriptions for a profile using a custom key.

```shell
$curl  
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/profile/<customKey> \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Perform a GET request on the subscriptions URL returned.

```shell
$curl  
-X GET <SUBSCRIPTION_URL> \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>It returns the list of subscriptions for the profile.

```shell
"service": {
  "PKey": "<PKEY>",
  "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/<PKEY>",
  "label": "Sport Newsletter",
  "name": "SVC1",
  "title": "Sport Newsletter (SVC1)"
}
```

## Metadata mechanism

You can retrieve the resources metadata using 'resourceType' in a GET request.

Here is an example to retrieves the metadata from a resource:

`GET /profileAndServices/resourceType/<resourceName>`

It returns the main metadata form a resource:

**Content**: returns the resource's fields. For each field in the **content** node, we can find the following fields:

* **apiName**: name of the attribute used in the APIs.
* **type**: this is the high-level type definition (string, number, link, collection, enumeration...).
* **dataPolicy**: the value of the field must follow the given policy rules. For example, if dataPolicy rule is set to "email", the value must be a valid email. During a PATCH or a POST, the dataPolicy can check the value or modify the value to transform (smartCase for example).
* **category**: gives the category of the field in the query editor.
* **resType**: this the technical type.
  * If **type** is completed with the value "link" or "collection", the resTarget value is the name of the resource targeted by the link.
  * If **type** is completed with the value "enumeration", a **values** field is added and each enumeration value are detailed in the **values** node.

**Filters**: returns the URL to retrieve the associated filters. See [Filters](#filtering)

All other fields are descriptive or internal.

<!-- créer une section au même niveau sur les liens -->
<!-- dans l'exemple: birthdate, email +  mettre 2 liens : un de type 1-1 , 1-N
si on prend l'exemple de l'org unit, on aura un bon exemple lien -->

<!-- plus reparler du node Data -->

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/resourceType/profile \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

> It returns the complete description of the profile resource.

```shell
{
...
"content": {
  "email": {
      "PKey": "<PKEY>",
      "apiName": "email",
      "category": "03_emails",
      "dataPolicy": "email",
      "desc": "",
      "displayFormat": "",
      "help": "",
      "label": "Email",
      "lazyLoaded": false,
      "length": "128",
      "mandatory": false,
      "metadata": "attribute",
      "privacy": "firstParty",
      "queryable": true,
      "readOnly": false,
      "resName": "",
      "resType": "string",
      "sortable": true,
      "type": "string"
    },
    ...
    },
"data": "/profileAndServices/profile/",
"filters": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/resourceType/<PKEY>"
    },
"help": "Identified profiles",
"href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/metadata",
"label": "Profiles",
"mandatory": false,
"name": "profile",
"pkgStatus": "never",
"readOnly": false,
"schema": "nms:recipient",
"type": "item"
}
```

## GET / POST / PATCH / DELETE verbs

<!-- enlever les nodes iniutiles genre pagniation, count etc)-->

Available verbs to perform operations on the resources are:

* `GET`: retrieves one element or a collection of elements

* `POST`: creates a resource with parameters.

* `PATCH`: updates a resource with parameters.

* `DELETE`: deletes a resource.

<!-- ajouter codes retour -->

>Sample GET request on the profile collection:

```shell
$curl  
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>It returns an array of profiles.

```shell

{
    "content": [
        {
            "PKey": "<PKEY>",
            "age": 34,
            ...
        },
        {
            "PKey": "<PKEY>",
            "age": 30,
            ...
        }
      ],
    "count": {
      "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile//_count?_lineStart=@iKTZ2q3IiSEDqZ5Nw1vdoGnQCqF-8DAUJRaVwR9obqqTxhMy"
    },
    "next": {
      "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/?_lineStart=@iKTZ2q3IiSEDqZ5Nw1vdoGnQCqF-8DAUJRaVwR9obqqTxhMy"
    },
    "serverSidePagination": true
}
```
 
>Sample GET request on a specific profile.

```shell
$curl  
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY> \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

<!-- toujours ces 4 champs dans les exemples: pkey first name lastname email birthdayte -->

>It returns the requested profile.

```shell
{
    "PKey": "<PKEY>",
    "age": 34,
    "birthDate": "1985-08-17",
    "blackList": false,
    "blackListAllLastModified": "",
    "blackListEmail": false,
    "blackListEmailLastModified": "",
    "blackListFax": false,
    "blackListFaxLastModified": "",
    "blackListLastModified": "",
    "blackListMobile": false,
    "blackListMobileLastModified": "",
    "blackListPhone": false,
    "blackListPhoneLastModified": "",
    "blackListPostalMail": false,
    "blackListPostalMailLastModified": "",
    "blackListPushnotification": false,
    "blackListPushnotificationLastModified": "",
    "created": "2019-09-25 00:19:14.569Z",
    "email": "johndoe@mail.com",
    ...
}
```

>Sample POST request to create a profile.

```shell
$curl
-X POST https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>' \
-d '{"lastName":"Doe"}'
```

<!-- toujours les mêmes champs que dit plus haut-->

<!-- dans les exemples, mettre email au lieu de age-->

>It returns the profile. <!-- returns  le profil avec tous les champs par défaut . >

```shell

{
    ...
    "gender": "unknown",
    "lastModified": "2019-09-25 08:25:12.234Z",
    "lastName": "Doe",
    ...
}
```

>Sample PATCH request to update a profile.

```shell
$curl
-X PATCH https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY> \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>' \
-d '{"lastName":"Smith"}'
```
<!-- mettre un 2ème champ à updater type prénom-->

>It returns the PKEY and URL to retrieve the updated profile.

```shell
{
    "PKey": "<PKEY>",
    "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY>"
}
```

>Sample DELETE request to delete a profile.

```shell
$curl
-X DELETE https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY> \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>The request returns a 200 response, confirming that the profile has been deleted.

## Custom resources

Adobe Campaign comes with a pre-defined data model, where data is defined through different resources. You can enrich the data model that is provided by extending the resources to add your own custom fields, such as purchase or product tables.

For more information on data model extension, refer to the Campaign documentation:

* [Data model concepts](https://docs.adobe.com/content/help/en/campaign-standard/using/developing/about-custom-resources/data-model-concepts.html)
* [Extending the API](https://helpx.adobe.com/campaign/standard/developing/using/about-extending-the-api.html)
* [Defining links with other resources](https://helpx.adobe.com/campaign/standard/developing/using/configuring-the-resource-s-data-structure.html#defining-links-with-other-resources)

Custom resources are accessible using the **/profileAndServicesExt** endpoint, and the custom resource name.

`https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/<resourceName>/`

>[!NOTE]
>
>For resources that are not out-of-the-box, always use the <b>"cus"</b> prefix before the resource's name.

You can perform any operation with custom resources, as long as they are linked to the Profile table.

For example, let's consider the tables structure below:

![alt text](/images/cusresources.png)

In that case, all resources from the **Transaction**, **TransactionDetails** and **Product** tables are available as long as they are linked to the **Profile** table.

>Sample GET request to access the extended profileAndServicesExt resource.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/\
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>' \
```

>It returns the list of all linked custom resources. You can then use the resources URLs to perform any API task described in this documentation.

```shell
{
"apiName": "resourceType",
"cusProduct": {
        "content": {...},
        "data": "/profileAndServicesExt/cusProduct/",
        "help": "Product",
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/cusProduct/metadata",
        "name": "cusProduct",
        "type": "collection"
    },
"cusTransaction": {
        "content": {...},
        "data": "/profileAndServicesExt/cusTransaction/",
        "help": "Product",
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/cusTransaction/metadata",
        "name": "cusProduct",
        "type": "collection"
    },
"cusTransactionDetails": {
        "content": {...},
        "data": "/profileAndServicesExt/cusTransactionDetails/",
        "help": "Product",
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/cusTransactionDetails/metadata",
        "name": "cusProduct",
        "type": "collection"
    },
}
```

## Additional operations

When using the GET verb, you can perform additional operations in order to refine your requests.

### Counting

The Adobe Campaign REST API can count the number of records. Counting is often used with **filters**. For more on filters, refer to [this section](#filtering).

>[!CAUTION]
>
> Always use the URL value returned in the count node to perform a count request.

>To count all the services that have a **messageType** value equaling to "sms", perform a GET request with the **byChannel** filter.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/byChannel?channel=sms \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>It returns the services corresponding to the filter in the **content** node, and the URL to retrieve the number of results in the **count** node.

```shell
{
    "content": [
        {
            ...
            "messageType": "sms",
            "mode": "newsletter",
            "name": "SVC6",
            ...
        },
        {
            ...
            "messageType": "sms",
            "mode": "newsletter",
            "name": "SVC7",
            ...
        },
        ...
    ],
    "count": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/byChannel/_count?channel=sms&_lineStart=@iKTZ2q3IiSEDqZ5Nw1vdoGnQCqF-8DAUJRaVwR9obqqTxhMy"
    },
    "serverSidePagination": true
}
```

>Perform a GET request on the **count** URL.
 
 ```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/byChannel/_count?channel=sms&_lineStart=@iKTZ2q3IiSEDqZ5Nw1vdoGnQCqF-8DAUJRaVwR9obqqTxhMy \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>It returns the number of results in the "count" attribute.

```
{
    "count": 26
}
```

### Pagination**

By default, 25 resources are loaded in a list. The **_lineCount** parameter allows you to limit the number of listed records.

Always use the URL value returned in the **next** node to perform a pagination request. The **_lineStart** request is calculated and must always be used within the URL returned in the **next** node.

>Sample GET request to display 1 record of the profile resource.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile?_lineCount=1 \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```
<!-- dans l'exemple, avoir le node "next"-->

>Response to the request.

```shell
{
    "content": [
        {
            "PKey": "<PKEY>",
            "age": 85,
            "birthDate": "1933-10-24",
            ...
        }
    ],
    "count": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile//_count?_lineCount=1&_lineStart=@vnxw2tye3sTSnooV6nR7SMh_y1e-MMtR6FOEOVXjiItJq5XA"
    },
    "next": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/?_lineCount=1&_lineStart=@vnxw2tye3sTSnooV6nR7SMh_y1e-MMtR6FOEOVXjiItJq5XA"
    },
    "serverSidePagination": true
}
```

<!-- serverside pagination. quand table très longue (au delà de 100.000), on peut plus faire de next. doit utiliser à la place les trucs type lineStart etc. si false: voudra dirre que ça a atteint la limite-->

### Sorting

Sorting is available in **ascending** or **descending** order. The '%20desc' or '%20asc' parameter needs to be added to the URL.

Sorting is also available on every field. A specific flag is available in the resource metadata to know whether or not the field can be ordered. For more on this, refer to [this section](#metadata-mechanism).

>Sample GET request to retrieve emails in the database alphabetically ordered.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/email/email?_order=email \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Response to the request.

```shell
{
  "content": [
    "adam@email.com",
    "allison.durance@example.com",
    "amy.dakota@mail.com",
    "andrea.johnson@mail.com",
    "audrey.davis@mail.com",
    "barbara.cooper@mail.com",
    "bette.grant@mail.com"
    ...
  ]
  "next": {
    "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/email?_order=email&_lineStart=@sL3AJfHiOJZzn9Ytm0OSduPdEz_kYoaflOEfSS1N2-ttAfLl"
  }
}
```

>Sample GET request to retrieve the email in the database in a descending alpha order.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/email?_order=email%20desc \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Response to the request.

```shell
{
  "content": [
    "tombinder@example.com",
    "tombinder@example.com",
    "timross@example.com",
    "john.smith@example.com",
    "jody.lucassen@example.com",
    "jade.connor@email.com",
    "dannymars@example.com",
    ...
  ]
}
```

### Filtering

#### Retrieving filters metadata
  
  Filters are available for **each resource**.
  
  To **identify the filters** associated to the resource, you need to perform a GET request on the resource metadata. For more on metadata, refer to [this section](#metadata-mechanism). This request returns the URL where all of the filters are defined for a given resource.
  
  To identify the filter **metadata** and determine how to use it, you have to perform a GET request on the previously returned URL.

>The sample payloads below show how to retrieve the "byText" filter metadata for the "profile" resource.
<br/>First perform a GET request on the "profile" resource metada.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/resourceType/profile \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>It returns the URL where the filters are described.

```json
{
"filters": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/resourceType/<PKEY>/filters/"
    }
  }
```

>Perform a GET request on the URL. It returns the list of filters for the profile resource, with the metadata associated to each filter.

```
{
"birthday": {
        "PKey": "@FL-CbDFXbnHbXcVpeCGWL46VXJLn1LqxLMPagt2vz8sCxQ52lvB15KiUaxXkxJYQw-tZXYrgUWG6K8QcB4gxVY9RKoba5bRFY3294YFshDmorRr8",
        "category": "0150_profile",
        "condition": {...},
        "data": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/birthday?type=$value&precision=$value&operator=$value&day=$value&month=$value&includeStart=$value&endDay=$value&endMonth=$value&includeEnd=$value&relativeValue=$value&nextUnitsValue=$value&previousUnitsValue=$value",
        "formType": "webPage",
        "fragmentName": "",
        "label": "Birthday",
        "metadata": {...},
        "resName": "birthday",
        "webPage": "...",
        "webPageName": ""},
	"byEmail": {...},
	"byKeysProfile": {...},
	"byText": {...},
	"profile": {...},
	"subscribers": {...}
}
```

#### Filters metadata structure

  The same metadata structure is available for each filter:
  
  * The **@formType** and **@webPage** fields are technical fields.
  * The **data** field gives a sample on how to use the filter.
  * The **metadata** node describes the filter parameters.
  * The **condition** node describes what the filter is intended to do. The filter parameters described in the metadata node are used to create filter conditions. For each filter condition, if **enabledIf** is true, the **expr** will be applied.

> Filter metadata structure sample.

```shell
"byText": {
        "PKey": "...",
        "category": "99_none",
        "condition": {...},
        "data": "/profileAndServices/profile/byText?text=$value",
        "formType": "none",
        "fragmentName": "",
        "label": "By name or email",
        "metadata": {...},
        "resName": "byText",
        "webPage": "",
        "webPageName": ""
    }
```

#### Using filters

  Filtering can be done with the following request:
  
  `GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/<resourceName>/by<filterName>?<filterParam>=<filterValue>`
  
  It is possible to combine **multiple filters** in a single request:
  
  `GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/<resourceName>/<filter1name>/<filter2name>?<filter1param>=<filter1value>&<filter2param>=<filter2value>`

>Sample GET request to retrieve the "service" resources with the type "email".

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/byChannel?channel=email \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Response to the request.

```shell
{
    "content": [
        {
            "PKey": "<PKEY>",
            "builtIn": false,
            "created": "2019-09-25 23:20:35.000Z",
            "desc": "test description",
            "end": "",
            "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/@I_FIiDush4OQPc0mbOVR9USoh36Tt5CsD35lATvQjdWlXrYc0lFkvle2XIwZUbD8GqTVvSp8AfWFUvjkGMe1fPe5nok",
            "isExternal": false,
            "isTemplate": false,
            "label": "QA Marketing Newsletter bjuiwdsod",
            "lastModified": "2019-09-25 23:20:35.000Z",
            "limitedDuration": false,
            "mainDate": "2019-09-25",
            "messageType": "email",
            "mode": "newsletter",
            ...
        },
        {
            "PKey": "<PKEY>",
            "builtIn": false,
            "created": "2019-09-25 23:33:17.488Z",
            "desc": "test description",
            "end": "",
            "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/@wuKK4-SmPSzNZGhQnqSZRYC8affVMqKeqjsr_mmtmW6qG8R5BQqfbrXNaxyBxGVm_Qu6OLHKPLvMHyhyWNLPovWohvU",
            "isExternal": false,
            "isTemplate": false,
            "label": "QA Marketing Newsletter dvsxmzwpg",
            "lastModified": "2019-09-25 23:33:17.488Z",
            "limitedDuration": false,
            "mainDate": "2019-09-25",
            "messageType": "email",
            "mode": "newsletter",
            ...
        },
        ...
    ],
    "count": {
        "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service//byChannel/_count?channel=email&_lineStart=@sL3AJfHiOJZzn9Ytm0OSduPdEz_kYoaflOEfSS1N2-ttAfLl",
        "value": 12
    },
    "serverSidePagination": true
}
```

>Sample GET request to retrieve the "profile" resources containing "Doe" in
the email or last name fields (the byText filter searchs into both the email and last name fields).

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/byText?text=Doe \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Response to the request.

```shell
{
    "content": [
        {
            ...
            "email": "john.doe@mail.com",
            "emailFormat": "unknown",
            "externalId": "",
            "fax": "",
            "firstName": "John",
            "gender": "unknown",
            "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY>",
            "isExternal": false,
            "lastModified": "2019-09-26 09:30:52.940Z",
            "lastName": "Doe",
            ...
        }
        ...
    ],
    "count": {...},
    "serverSidePagination": true
}
```

>Sample GET request to retrieve the services resources with the type "email" and the label "sport".

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/byChannel/byText?channel=email&text=sport \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

>Response to the request.

```shell
{
    "content": [
        {
            "PKey": "<PKEY>",
            "builtIn": false,
            "created": "2019-09-26 09:36:01.014Z",
            "desc": "",
            "end": "",
            "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/service/<PKEY>",
            "isExternal": false,
            "isTemplate": false,
            "label": "sport",
            "lastModified": "2019-09-26 09:36:01.014Z",
            "limitedDuration": false,
            "mainDate": "2019-09-26",
            "messageType": "email",
            "mode": "newsletter",
            "name": "SVC13",
            ...
        }
    ],
    "count": {...},
    "serverSidePagination": true
}
```

#### Custom filters

  If you want to use a custom filter, you have to create and customize it in the Adobe Campaign Standard interface.
  
  The custom filter will then have the same behavior as out of the box filters:
  
  `GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/<resourceName>/by<customFilterName>?<customFilterparam>=<customFilterValue>`
  
  For more on this, refer to the Campaign Standard documentation:
  
  * [Configuring filter definition](https://helpx.adobe.com/campaign/standard/developing/using/configuring-filter-definition.html).
  * [Use case: Calling a resource using a composite identification key](https://docs.adobe.com/content/help/en/campaign-standard/using/developing/adding-or-extending-a-resource/uc-calling-resource-id-key.html).

>Sample GET request to retrieve the "profile" resources with transaction amounts of 100$ or more.
<br/>The "byAmount" filter has first been defined in the Adobe Campaign Standard interface and linked to the "Transaction" custom table.

```shell
$curl
-X GET https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServicesExt/profile/byAmount?amount_parameter=100 \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer <ACCESS_TOKEN>' \
-H 'Cache-Control: no-cache' \
-H 'X-Api-Key: <API_KEY>'
```

<!--
>Response to the request.

```shell
{
    "content": [
        {
            "PKey": "<PKEY>",
            "builtIn": false,
            "created": "2019-09-26 09:36:01.014Z",
            "desc": "",
            "end": "",
            "href": "https://mc.adobe.io/<ORGANIZATION>/campaign/profileAndServices/profile/<PKEY>",
            ...
        }
    ],
    "count": {...},
    "serverSidePagination": true
}
```
-->

<!-- exemple à vérifier de bout en bout-->
