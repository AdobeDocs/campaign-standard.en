<html>
 <head>
  <meta content="admin" name="jcr:createdBy" />
  <meta content="https://helpx.adobe.com/campaign/standard/developing/using/step-2--configure-the-resource-data-structure.html" name="publishExternalURL" />
  <meta content="6a692084-3707-4b4d-a227-ddc51723b679" name="jcr:predecessors" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="Step 2: Configure the resource data structure" name="navTitle" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="2018-07-23T05:59:08.749-0400" name="lastPublishExternalDate" />
  <meta content="sauviat" name="cq:lastReplicatedBy" />
  <meta content="2018-07-23T05:59:08.749-0400" name="publishExternalDate" />
  <meta content="sauviat" name="contentOwner" />
  <meta content="" name="jcr:primaryType" />
  <meta content="audience:developing" name="primaryAudienceTag" />
  <meta content="Step 2: Configure the resource data structure" name="jcr:description" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="light" name="heroGradient" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="08adc926-6233-4c18-ae93-03400c893738" name="jcr:uuid" />
  <meta content="2018-07-26T02:53:21.918-0400" name="locHandOffDate" />
  <meta content="2018-07-23T05:59:08.749-0400" name="topicBrowsingSortDate" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="2018-03-15T09:02:55.169-0400" name="jcr:created" />
  <meta content="2018-07-26T02:53:21.919-0400" name="cq:lastModified" />
  <meta content="sauviat@adobe.com" name="lr_lastReplicatedBy" />
  <meta content="Learn how to configure the data structure." name="seoDescription" />
  <meta content="en_us" name="jcr:language" />
  <meta content="2018-07-23T05:59:08.797-0400" name="cq:lastReplicated" />
  <meta content="2018-07-23T05:59:08.749-0400" name="firstPublishExternalDate" />
  <meta content="products:SG_CAMPAIGN/STANDARD" name="primaryProductTag" />
  <meta content="products:SG_CAMPAIGN/STANDARD;audience:developing;content_type:reference;topic_tags:adding-or-extending-a-resource" name="cq:tags" />
  <meta content="Step 2: Configure the resource data structure" name="jcr:title" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="false" name="isReadyForLocalization" />
  <meta content="mix:versionable" name="jcr:mixinTypes" />
  <meta content="locales:fr;locales:de;locales:ja" name="locLangTag" />
 </head>
 <body>
  <p>After creating a new custom resource, you must configure the data structure.</p> 
  <p>When editing the resource, in the <strong>Data structure</strong> tab, you can add:</p> 
  <ul>
   <li><p>Fields</p> </li>
   <li><p>Identification keys</p> </li>
   <li><p>Indexes</p> </li>
   <li><p>Links</p> </li>
  </ul>
  <h2>Adding Fields to a Resource</h2>
  <p>You can add new fields to a resource to store data that are not part of the out of the box data model.</p> 
  <ol>
   <li><p>Use the <strong>Create element</strong> button to create a field.</p> </li>
   <li><p>Specify a label, an ID, a field type, and define the maximum length authorized for this field.</p> <p>The <strong>ID</strong> field is mandatory and must be unique for each field added.</p> 
    <note>
     <p> If you leave the <strong>Label</strong> field empty, it will automatically be completed from the ID. </p> 
    </note><img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_4.png" title="" /></li>
   <li><p>To modify one of the fields, check the corresponding box and use the <strong>Show detail of the element selected</strong> button.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_24.png" title="" /></li>
   <li><p>In the <strong>Field definition</strong> screen, you can define a category that will be used for the audience and targeting, or even add a description.</p> <p>Check the <strong>Specify a list of authorized values</strong> option to define the values that will be offered to the user (enumeration values).</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_5.png" title="" /></li>
   <li><p>Once you have added your fields, check the <strong>Add audit fields</strong> box to include fields detailing the creation date, the user that created the resource, the date, and the author of the last modification.</p> </li>
   <li><p>Check the <strong>Add access authorization management fields</strong> box to include the fields stating who has access rights to that particular resource.</p> <p>These fields appear in the data and metadata that can be displayed once the database update has been carried out. For more on this, refer to the <a href="../../developing/using/step-5--update-the-database-structure.md" target="_blank">Step 5: Update the database structure</a> section.</p> </li>
   <li><p>To modify the way in which the name of the resource elements will appear in the lists and creation steps, check the <strong>Personalize the resource title</strong> box. Select a field from those you created for this resource.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_18.png" title="" /></li>
  </ol>
  <p>The fields of your resource are now defined.</p> 
  <h2>Defining identification keys</h2>
  <p>Each resource must have at least one unique key. For example, you can specify a key so that two products cannot have the same ID in a purchase table.</p> 
  <ol>
   <li><p>Use the <strong>Create element</strong> button to create a key.</p> <p>The <strong>Label</strong> and <strong>ID</strong> fields are completed by default, but you can edit them.</p> </li>
   <li><p>To define the elements making up this key, select the fields from those that you created for this resource.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_7.png" title="" /><p>Created keys are displayed in the <strong>Personalized keys</strong> section.</p> </li>
   <li><p>If you would like to have a technical key, which will be automatically and incrementally generated, specify it in the <strong>Automatic primary key</strong> section by providing the size for the storage.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_6.png" title="" /></li>
  </ol>
  <p>Your identification keys for the resource are now created.</p> 
  <h2>Defining indexes</h2>
  <p>An index can reference one or several resource fields. Indexes allow the database to sort records in order to recover them more easily. They optimize the performances of SQL queries.</p> 
  <p>Defining indexes is recommended but not mandatory.</p> 
  <ol>
   <li><p>Use the <strong>Create element</strong> button to create an index.</p> <p>The <strong>Label</strong> and <strong>ID</strong> fields are completed by default, but you can edit them.</p> </li>
   <li><p>To define the elements making up this index, select the fields from those that you created for this resource.</p> </li>
  </ol>
  <p>The indexes that were created appear in the list in the <strong>Index</strong> section.</p> 
  <h2>Defining links with other resources</h2>
  <p>A link details the association that one table has with other tables.</p> 
  <ol>
   <li><p>Use the <strong>Create element</strong> button to create a link to a target resource.</p> </li>
   <li><p>Resources are shown in alphabetical order and can be filtered by name. Their technical name is displayed in brackets. Select an element from the list and confirm.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_9.png" title="" /></li>
   <li><p>Select the <strong>Link type</strong> according to cardinality. Depending on the cardinality type selected, the behavior if the records are deleted or duplicated may vary.</p> </li>
   <li><p>In the <strong>New link</strong> screen, the <strong>Label</strong> and <strong>ID</strong> fields are completed by default, but you can edit them.</p> 
    <note>
     <p> It is not possible to rename a link after creation. To rename a link, you must delete it and create it again. </p> 
    </note></li>
   <li><p>The <strong>Category for the audience and targeting</strong> list allows you to select a category from the query editor tool.</p> </li>
   <li><p>The <strong>Reverse link definition</strong> section allows you to display the label and ID of the resource from which you defined the link.</p> </li>
   <li><p>Define all of the records referenced by the link in the <strong>Behavior in case of deletion/duplication</strong> section.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_16.png" title="" /></li>
   <li><p>In the <strong>Join definition</strong> section, you can choose to use the primary keys. Otherwise, specify new criteria: select a source field from the fields that you created for this resource and select an expression for the destination field or link a constant value to a field of the linked resource.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/schema_extension_17.png" title="" /></li>
  </ol>
  <p>The links created are displayed in the list in the <strong>Links</strong> section.</p> 
  <p><strong>Example: Links to the 'Profiles' resource</strong></p> 
  <p>When you have added a link from a new resource to the <strong>Profiles</strong> resource, a new tab is automatically added in the profiles' detail view.</p> 
  <p>For example, in a new <strong>Products (Products)</strong> custom resource, a link to the profiles is added:</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/custom_resource_link_to_profile.png" title="" />
  <p>By adding this link, a <strong>Products</strong> tab, named after the <strong>Label</strong> of the new resource, is added to the profiles detail screen. The result is immediately visible after publishing the custom resource from the <strong>Profiles &amp; audiences</strong> &gt; <strong>Profiles</strong> menu. By clicking on a profile, the information from the <strong>Products</strong> custom resource appears in a new tab.</p> 
  <h2>Defining sending logs extension</h2>
  <p>The sending log extension allows you:</p> 
  <ul>
   <li><p>to extend dynamic report capabilites by <strong>adding profile custom fields</strong></p> </li>
   <li><p>to extend the sending logs data with <strong>segment code and profile data</strong></p> </li>
  </ul>
  <p><strong>Extend with a segment code</strong></p> 
  <p>For more information on segment code, refer to the <a href="../../automating/using/segmentation.md">Segmentation</a> section.</p> 
  <p>The user can extend the logs with the segment code coming from the workflow engine.</p> 
  <p>The segment code must be defined into the workflow.</p> 
  <p>To activate this extension, check the option <strong>Add segment code</strong>.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/sendingLogsExtension_1.png" title="" />
  <p><strong>Extend with a profile field</strong></p> 
  <note>
   <p>The administrator should have extended the Profile resource with a custom field.</p> 
  </note>
  <img alt="" captionBottom="" imageRotate="0" src="assets/sendingLogsExtension_2.png" title="" />
  <p>Click <strong>Add field</strong> and select any custom field from the profile resource.</p> 
  <p>In order to generate a new sub-dimension linked to the Profile dimension, check the <strong>Add this field in Dynamic reporting as a new dimension</strong> option.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/sendingLogsExtension_3.png" title="" />
  <p>From Dynamic Reporting, you can drag and drop the custom field dimension into a freeform table.</p> 
  <p>For more information on Dynamic Reporting, refer to the <a href="../../reporting/using/list-of-components-.md">List of components</a>.</p> 
  <note>
   <p>The number of fields sent to Dynamic Reporting is limited to 20.</p> 
  </note>
 </body>
</html>