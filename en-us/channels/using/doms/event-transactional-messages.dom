<html>
 <head>
  <meta content="audience:channels" name="primaryAudienceTag" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="Event transactional messages" name="jcr:description" />
  <meta content="2018-07-23T06:02:59.976-0400" name="lastPublishExternalDate" />
  <meta content="2018-07-23T06:03:00.012-0400" name="cq:lastReplicated" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="https://helpx.adobe.com/campaign/standard/channels/using/event-transactional-messages.html" name="publishExternalURL" />
  <meta content="products:SG_CAMPAIGN/STANDARD" name="primaryProductTag" />
  <meta content="Event transactional messages" name="jcr:title" />
  <meta content="light" name="heroGradient" />
  <meta content="2018-07-30T04:54:05.408-0400" name="locHandOffDate" />
  <meta content="2018-07-30T04:54:05.409-0400" name="cq:lastModified" />
  <meta content="Learn how to create and publish an event transactional message." name="seoDescription" />
  <meta content="2018-07-23T06:02:59.976-0400" name="topicBrowsingSortDate" />
  <meta content="" name="jcr:primaryType" />
  <meta content="mix:versionable" name="jcr:mixinTypes" />
  <meta content="locales:fr;locales:de;locales:ja" name="locLangTag" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="2018-07-23T06:02:59.976-0400" name="publishExternalDate" />
  <meta content="false" name="isReadyForLocalization" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="sauviat" name="cq:lastReplicatedBy" />
  <meta content="2018-07-23T06:02:59.976-0400" name="firstPublishExternalDate" />
  <meta content="42441ff4-d8a8-4e33-8cd6-f5b89c571a99" name="jcr:uuid" />
  <meta content="en_us" name="jcr:language" />
  <meta content="28a8dc9c-e4cd-417a-b8fd-35b7df8c2d50" name="jcr:predecessors" />
  <meta content="Event transactional messages" name="navTitle" />
  <meta content="sauviat" name="contentOwner" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="products:SG_CAMPAIGN/STANDARD;audience:channels;content_type:reference;topic_tags:transactional-messaging" name="cq:tags" />
  <meta content="sauviat@adobe.com" name="lr_lastReplicatedBy" />
  <meta content="admin" name="jcr:createdBy" />
  <meta content="2018-03-15T09:01:20.940-0400" name="jcr:created" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
 </head>
 <body>
  <p>Once you have created and published an event (the cart abandonment as explained in <a href="../../channels/using/about-transactional-messaging.md#transactional-messaging-operating-principle">this section</a>), the corresponding transactional message is created automatically.</p> 
  <p>The configuration steps are presented in the <a href="../../administration/using/configuring-transactional-messaging.md#use-case--configuring-an-event-to-send-a-transactional-message">Configuring an event to send an event transactional message</a> section.</p> 
  <p>In order for the event to trigger sending a transactional message, you have to personalize the message, then test it and publish it.</p> 
  <note>
   <p> To access the transactional messages, you must have administration rights or appear in the <strong>Message Center agents</strong> (mcExec) security group. Event transactional messages do not contain profile information, therefore they are not compatible with fatigue rules (even in the case of an enrichment with profiles). See <a href="../../administration/using/fatigue-rules.md#choosing-the-channel">Fatigue rules</a>. </p> 
  </note>
  <h2>Defining a test profile in a transactional message</h2>
  <p>Define an adapted test profile, which will allow you to preview your message and send a proof to check it.</p> 
  <h3>Creating a test profile within the transactional message</h3>
  <ol>
   <li><p>To access the message that you created, click the <strong>Adobe Campaign</strong> logo, in the top left corner, then select <strong>Marketing plans</strong> &gt; <strong>Transactional messages</strong> &gt; <strong>Transactional messages</strong>.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_4.png" title="" /></li>
   <li><p>Create a test profile that will be linked to your event.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_test-profile.png" title="" /></li>
   <li><p>Specify the information to send in JSON format in the <strong>Event data used for personalization</strong> section. This is the content that will be used when previewing the message and when the test profile receives the proof.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_event-data.png" title="" />
    <note>
     <p> You can also enter the information relating to the profile table. See <a href="../../administration/using/configuring-transactional-messaging.md#enriching-the-transactional-message-content">Enriching the transactional message content</a>. </p> 
    </note></li>
   <li><p>After having been created, the test profile will be pre-specified in the transactional message. Click the <strong>Test profiles</strong> block of the message to check the target of your proof.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_5.png" title="" /></li>
  </ol>
  <h3>Creating a test profile outside the transactional message</h3>
  <p>You can also create a new test profile or use one that already exists in the <strong>Test profiles</strong> menu.</p> 
  <ol>
   <li><p>Click the <strong>Adobe Campaign</strong> logo, in the top left corner, then select <strong>Profiles &amp; audiences</strong> &gt; <strong>Test profiles</strong>.</p> </li>
   <li><p>In the <strong>Event</strong> section of the page of the test profile that you have chosen, select the event that you have just created. In this example, select "Cart abandonment (EVTcartAbandonment)".</p> </li>
   <li><p>Specify the information to send in JSON format in the <strong>Event data</strong> text box.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_3.png" title="" /></li>
   <li><p>Save your changes.</p> </li>
  </ol>
  <p>You can now access the message that you created and select the updated test profile.</p> 
  <p><strong>Related topics:</strong></p> 
  <ul>
   <li><p> <a href="../../sending/using/managing-test-profiles-and-sending-proofs.md">Managing test profiles</a></p> </li>
   <li><p> <a href="../../audiences/using/creating-audiences.md">Defining audiences</a></p> </li>
  </ul>
  <h2>Personalizing a transactional message</h2>
  <p>To set up personalization in a transactional message, follow the steps below:</p> 
  <ol>
   <li><p>Click the <strong>Content</strong> block to modify your message's subject and content. For this example, import an HTML template containing images, the style sheet, and an HTML file. Importing HTML templates is presented in the <a href="../../designing/using/selecting-an-existing-content.md">Loading an existing content</a> section.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_6.png" title="" /></li>
   <li><p>Enter your message content. In this example, we have added three personalization fields: last name, last product consulted, total cart amount. The link to the abandoned cart is a link to an external URL that will redirect the person to their cart. This parameter is not managed in Adobe Campaign.</p> <p>To add fields that you defined when you created your event (see <a href="../../administration/using/configuring-transactional-messaging.md#use-case--configuring-an-event-to-send-a-transactional-message">Configuring an event</a>), insert a personalization field in the message content. You can find the fields by selecting <strong>Transactional event</strong> &gt; <strong>Event context</strong>.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_7.png" title="" /></li>
   <li><p>To enrich the content of your message, add fields by selecting them from the table with which you linked your event. In our example, select the <strong>Title (salutation)</strong> field in the <strong>Profile</strong> table.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_7-enrichment.png" title="" /><p>The steps for inserting a personalization field are detailed in the <a href="../../designing/using/inserting-a-personalization-field.md">Inserting a personalization field</a> section.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_8.png" title="" /></li>
   <li><p>Preview your message by selecting the profile that you defined for this event.</p> <p>The steps for previewing a message are detailed in the <a href="../../sending/using/preparing-the-send.md">Previewing messages</a> section.</p> <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_9.png" title="" /><p>You can check that the personalization fields match the information entered in the test profile. For more on this, see <a href="../../channels/using/event-transactional-messages.md#defining-a-test-profile-in-a-transactional-message" target="_blank">Defining a test profile in a transactional message</a>.</p> </li>
  </ol>
  <h2>Testing a transactional message</h2>
  <p>Once you have saved your transactional message, you can now send a proof to test it.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_10.png" title="" />
  <p>The steps for sending a proof are detailed in the <a href="../../sending/using/managing-test-profiles-and-sending-proofs.md#sending-proofs">Sending a proof</a> section.</p> 
  <h2>Publishing a transactional message</h2>
  <p>Once you have checked your transactional message, you can publish it.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_12.png" title="" />
  <p>Now, as soon as the "Cart abandonment" event is triggered, it automatically prompts a message containing the recipient's title and last name, the cart URL, the last product consulted, and the total cart amount to be sent.</p> 
  <p>To access reports concerning your transactional message, use the <strong>Reports</strong> button. See <a href="../../reporting/using/about-dynamic-reports.md">Reports</a>.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_13.png" title="" />
  <h2>Suspending a transactional message publication</h2>
  <p>You can suspend publishing your transactional message by using the <strong>Pause</strong> button, for example, to modify the data contained in the message. The events are therefore no longer processed, but instead kept in a queue in the Adobe Campaign database.</p> 
  <p>The queued events are kept during a period of time that is defined in the REST API (see <a href="https://docs.campaign.adobe.com/doc/standard/en/api/ACS_API.html">REST API documentation</a>) or in the trigger event if you are using the Triggers core service (see <a href="../../integrating/using/about-adobe-experience-cloud-triggers.md">Working with Campaign and Experience Cloud Triggers</a>).</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_pause.png" title="" />
  <p>When clicking <strong>Resume</strong>, all of the queued events (provided that they are not expired) are processed. They now contain all of the modifications carried out while the template publication was suspended.</p> 
  <h2>Unpublishing a transactional message</h2>
  <p>Clicking <strong>Unpublish</strong> allows you to cancel the transactional message publication, but also the publication of the corresponding event, which deletes from the REST API the resource corresponding to the event that you previously created. Now, even if the event is triggered through your website, the corresponding messages are not sent anymore and they are not stored in the database.</p> 
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_unpublish-template.png" title="" />
  <note>
   <p> To publish the message again, you need to go back to the corresponding event configuration, publish it, and then publish the message. For more on this, see <a href="../../channels/using/event-transactional-messages.md#publishing-a-transactional-message" target="_blank">Publishing a transactional message</a>. </p> 
  </note>
  <p>If you unpublish a paused transactional message, you may have to wait up to 24 hours before you can publish it again. This is to let the <strong>Database cleanup</strong> workflow clean all the events that were sent to the queue. The steps for pausing a message are detailed in the <a href="../../channels/using/event-transactional-messages.md#suspending-a-transactional-message-publication" target="_blank">Suspending a transactional message publication</a> section.</p> 
  <p>The <strong>Database cleanup</strong> workflow, which runs every day at 4am, is accessible through <strong>Administration</strong> &gt; <strong>Application settings</strong> &gt; <strong>Workflows</strong>.</p> 
  <h2>Deleting a transactional message</h2>
  <img alt="" captionBottom="" imageRotate="0" src="assets/message-center_delete-template.png" title="" />
  <p>By selecting a transactional message, you can delete it with the <strong>Delete element</strong> button even if it has already been published. However, deleting a transactional message can only be done under certain conditions:</p> 
  <ul>
   <li><p><strong>For transaction message</strong>: To delete a transactional message, the messages should be unpublished and not paused.</p> <p>If the transactional message is unpublished, the event configuration also needs to be unpublished to successfully delete your transactional message unless another transactional message is linked to the corresponding event. For more information on how to unpublish a transactional message, refer to this <a href="../../channels/using/event-transactional-messages.md#unpublishing-a-transactional-message">section</a>.</p> 
    <note>
     <p> Deleting a transactional message that has already sent notifications will also delete its sending and tracking logs. </p> 
    </note></li>
   <li><p><strong>For transactional message from an out-of-the-box event template (internal transactional messages)</strong>: To delete an internal transactional message, the messages should be unpublished and not paused.</p> <p>It also shouldn't be the only transactional message in the event, other messages have to be linked to the corresponding event.</p> </li>
  </ul>
 </body>
</html>